[{"/Users/drorpoliak/projects/monthly/src/index.js":"1","/Users/drorpoliak/projects/monthly/src/App.js":"2","/Users/drorpoliak/projects/monthly/src/reportWebVitals.js":"3","/Users/drorpoliak/projects/monthly/src/redux/store.js":"4","/Users/drorpoliak/projects/monthly/src/redux/app.js":"5","/Users/drorpoliak/projects/monthly/src/redux/users.js":"6","/Users/drorpoliak/projects/monthly/src/auth/ProtectedRoute.js":"7","/Users/drorpoliak/projects/monthly/src/i18n/en.js":"8","/Users/drorpoliak/projects/monthly/src/auth/Login.js":"9","/Users/drorpoliak/projects/monthly/src/i18n/he.js":"10","/Users/drorpoliak/projects/monthly/src/utility/SimulateError.js":"11","/Users/drorpoliak/projects/monthly/src/components/Dashboard.js":"12","/Users/drorpoliak/projects/monthly/src/communication/Snackbar.js":"13","/Users/drorpoliak/projects/monthly/src/utility/ErrorBoundary.js":"14","/Users/drorpoliak/projects/monthly/src/styling/useTheme.js":"15","/Users/drorpoliak/projects/monthly/src/layout/Direction.js":"16","/Users/drorpoliak/projects/monthly/src/communication/useNotifications.js":"17","/Users/drorpoliak/projects/monthly/src/layout/Page.js":"18","/Users/drorpoliak/projects/monthly/src/api/fakeUsersApi.js":"19","/Users/drorpoliak/projects/monthly/src/components/Drawer.js":"20","/Users/drorpoliak/projects/monthly/src/editor/Editor.js":"21","/Users/drorpoliak/projects/monthly/src/editor/decorator.js":"22","/Users/drorpoliak/projects/monthly/src/editor/decoratorComponents.js":"23","/Users/drorpoliak/projects/monthly/src/editor/strategies.js":"24","/Users/drorpoliak/projects/monthly/src/editor/entities.js":"25","/Users/drorpoliak/projects/monthly/src/editor/selection.js":"26","/Users/drorpoliak/projects/monthly/src/editor/entityTypes.js":"27","/Users/drorpoliak/projects/monthly/src/editor/EntityDetails.js":"28","/Users/drorpoliak/projects/monthly/src/api/fakeEditorApi.js":"29","/Users/drorpoliak/projects/monthly/src/redux/content.js":"30","/Users/drorpoliak/projects/monthly/src/components/Home.js":"31","/Users/drorpoliak/projects/monthly/src/utility/proxies.js":"32","/Users/drorpoliak/projects/monthly/src/editor/Selector.js":"33","/Users/drorpoliak/projects/monthly/src/utility/appUtilities.js":"34","/Users/drorpoliak/projects/monthly/src/utility/debounce.js":"35","/Users/drorpoliak/projects/monthly/src/editor/EditorControl.js":"36","/Users/drorpoliak/projects/monthly/src/relations/Relations.js":"37","/Users/drorpoliak/projects/monthly/src/relations/flowOptions.js":"38","/Users/drorpoliak/projects/monthly/src/relations/ConnectionLine.js":"39"},{"size":638,"mtime":1612986116842,"results":"40","hashOfConfig":"41"},{"size":3059,"mtime":1612861632041,"results":"42","hashOfConfig":"41"},{"size":362,"mtime":1609513093073,"results":"43","hashOfConfig":"41"},{"size":243,"mtime":1611266430093,"results":"44","hashOfConfig":"41"},{"size":975,"mtime":1612989012615,"results":"45","hashOfConfig":"41"},{"size":1668,"mtime":1609602661413,"results":"46","hashOfConfig":"41"},{"size":484,"mtime":1609626768700,"results":"47","hashOfConfig":"41"},{"size":62,"mtime":1609622259408,"results":"48","hashOfConfig":"41"},{"size":4182,"mtime":1609626733816,"results":"49","hashOfConfig":"41"},{"size":68,"mtime":1609622295708,"results":"50","hashOfConfig":"41"},{"size":157,"mtime":1609599006959,"results":"51","hashOfConfig":"41"},{"size":1079,"mtime":1611416606184,"results":"52","hashOfConfig":"41"},{"size":1044,"mtime":1612110884139,"results":"53","hashOfConfig":"41"},{"size":971,"mtime":1609626913068,"results":"54","hashOfConfig":"41"},{"size":303,"mtime":1611855903146,"results":"55","hashOfConfig":"41"},{"size":509,"mtime":1609623338500,"results":"56","hashOfConfig":"41"},{"size":1017,"mtime":1612631744828,"results":"57","hashOfConfig":"41"},{"size":276,"mtime":1610378459869,"results":"58","hashOfConfig":"41"},{"size":1265,"mtime":1612986130395,"results":"59","hashOfConfig":"41"},{"size":4863,"mtime":1611412638141,"results":"60","hashOfConfig":"41"},{"size":3895,"mtime":1612982133749,"results":"61","hashOfConfig":"41"},{"size":479,"mtime":1612105018746,"results":"62","hashOfConfig":"41"},{"size":3022,"mtime":1612992179641,"results":"63","hashOfConfig":"41"},{"size":980,"mtime":1612814078624,"results":"64","hashOfConfig":"41"},{"size":4656,"mtime":1612971607474,"results":"65","hashOfConfig":"41"},{"size":590,"mtime":1612115038891,"results":"66","hashOfConfig":"41"},{"size":2153,"mtime":1612998009110,"results":"67","hashOfConfig":"41"},{"size":3386,"mtime":1612988084630,"results":"68","hashOfConfig":"41"},{"size":6945,"mtime":1612998945081,"results":"69","hashOfConfig":"41"},{"size":4544,"mtime":1613006373590,"results":"70","hashOfConfig":"41"},{"size":1269,"mtime":1611845035168,"results":"71","hashOfConfig":"41"},{"size":258,"mtime":1612102597366,"results":"72","hashOfConfig":"41"},{"size":2018,"mtime":1612917337736,"results":"73","hashOfConfig":"41"},{"size":593,"mtime":1612897794536,"results":"74","hashOfConfig":"41"},{"size":772,"mtime":1612197392132,"results":"75","hashOfConfig":"41"},{"size":4555,"mtime":1612992717622,"results":"76","hashOfConfig":"41"},{"size":5192,"mtime":1612989391272,"results":"77","hashOfConfig":"41"},{"size":1886,"mtime":1612999067574,"results":"78","hashOfConfig":"41"},{"size":659,"mtime":1612962430885,"results":"79","hashOfConfig":"41"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},"i6zbmn",{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"121","messages":"122","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"123","usedDeprecatedRules":"82"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"130","messages":"131","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"132","messages":"133","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"138","messages":"139","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"140","messages":"141","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"142","messages":"143","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"144","messages":"145","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"146","messages":"147","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"148","messages":"149","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"150","messages":"151","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"152","messages":"153","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"154","messages":"155","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"156","messages":"157","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"158","messages":"159","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},"/Users/drorpoliak/projects/monthly/src/index.js",[],["160","161"],"/Users/drorpoliak/projects/monthly/src/App.js",[],"/Users/drorpoliak/projects/monthly/src/reportWebVitals.js",[],"/Users/drorpoliak/projects/monthly/src/redux/store.js",[],"/Users/drorpoliak/projects/monthly/src/redux/app.js",[],"/Users/drorpoliak/projects/monthly/src/redux/users.js",[],"/Users/drorpoliak/projects/monthly/src/auth/ProtectedRoute.js",[],"/Users/drorpoliak/projects/monthly/src/i18n/en.js",[],"/Users/drorpoliak/projects/monthly/src/auth/Login.js",[],"/Users/drorpoliak/projects/monthly/src/i18n/he.js",[],"/Users/drorpoliak/projects/monthly/src/utility/SimulateError.js",[],"/Users/drorpoliak/projects/monthly/src/components/Dashboard.js",[],"/Users/drorpoliak/projects/monthly/src/communication/Snackbar.js",[],"/Users/drorpoliak/projects/monthly/src/utility/ErrorBoundary.js",[],"/Users/drorpoliak/projects/monthly/src/styling/useTheme.js",[],"/Users/drorpoliak/projects/monthly/src/layout/Direction.js",[],"/Users/drorpoliak/projects/monthly/src/communication/useNotifications.js",[],"/Users/drorpoliak/projects/monthly/src/layout/Page.js",[],"/Users/drorpoliak/projects/monthly/src/api/fakeUsersApi.js",[],"/Users/drorpoliak/projects/monthly/src/components/Drawer.js",["162","163","164","165","166","167"],"/Users/drorpoliak/projects/monthly/src/editor/Editor.js",["168"],"/** @jsxImportSource @emotion/react */\nimport React, { useState, useEffect, useCallback } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { unwrapResult } from '@reduxjs/toolkit'\nimport { fetchContent, error, changes } from '../redux/content'\n\nimport { Editor, EditorState, RichUtils, convertFromRaw } from 'draft-js'\nimport 'draft-js/dist/Draft.css'\nimport Relations from '../relations/Relations'\n\nimport Selector, { emptyData } from './Selector'\nimport { createEntityFromSelection } from './entities'\nimport decorator from './decorator'\nimport parseSelection from './selection'\nimport Page from '../layout/Page'\nimport EditorControl from './EditorControl'\n\nconst styles = {\n  container: theme => ({\n    height: '100%',\n    display: 'grid',\n    gridTemplateColumns: '8.5fr 1.5fr',\n    gridTemplateRows: '8.5fr 1.5fr',\n    gridTemplateAreas: `\n      \"editor selector\"\n      \"editor control\"\n      `,\n    padding: '1rem',\n  }),\n  editor: {\n    gridArea: 'editor',\n  },\n  selector: {\n    gridArea: 'selector',\n  },\n  control: {\n    gridArea: 'control',\n  },\n  relations: {},\n}\n\nconst MyEditor = () => {\n  const [editorState, setEditorState] = useState(() =>\n    EditorState.createEmpty()\n  )\n  const [data, setData] = useState(emptyData)\n  const [selectorOpen, setSelectorOpen] = useState(false)\n\n  const { editor } = useSelector(store => store.app.view)\n  const dispatch = useDispatch()\n\n  const uSetSelectorOpen = useCallback(setSelectorOpen, [setSelectorOpen])\n  const uSetData = useCallback(setData, [setData])\n\n  const handleChange = newEditorState => {\n    // only report changes that have the potential to change entities positions\n    // contentState immutability enables using referntial equality for comparison\n    const oldContent = editorState.getCurrentContent()\n    const newContent = newEditorState.getCurrentContent()\n    const contentChanged = newContent !== oldContent\n    if (contentChanged) dispatch(changes())\n\n    setEditorState(newEditorState)\n\n    const { selectionExists } = parseSelection(newEditorState)\n    if (selectionExists) setSelectorOpen(true)\n  }\n\n  // conversion\n  useEffect(() => {\n    const convertContent = rawContent => convertFromRaw(rawContent)\n\n    const showContent = content =>\n      setEditorState(EditorState.createWithContent(content, decorator))\n\n    dispatch(fetchContent({ convertContent, showContent }))\n      .then(unwrapResult)\n      .catch(serializedError => {\n        console.error(serializedError)\n        dispatch(error('content'))\n      })\n  }, [dispatch])\n\n  // selection & entity creation\n  useEffect(() => {\n    const { selectionExists, selectionSpansBlocks } = parseSelection(\n      editorState\n    )\n    if (selectionExists && selectionSpansBlocks) {\n      // alert('Please select inside a single block') // ToDo: replace alert with a snackbar\n      return\n    }\n    if (selectionExists && data.entityType) {\n      const newEditorState = createEntityFromSelection({\n        editorState,\n        data,\n        dispatch,\n      })\n      setEditorState(newEditorState)\n      setData(emptyData)\n    }\n  }, [dispatch, editorState, data])\n\n  return (\n    <Page>\n      <div css={styles.container}>\n        <div\n          css={styles.editor}\n          style={{ visibility: editor ? 'visible' : 'hidden' }}\n        >\n          <Editor\n            editorState={editorState}\n            onChange={handleChange}\n            css={styles.editor}\n          />\n        </div>\n\n        <div css={styles.selector}>\n          <Selector\n            {...{\n              selectorOpen,\n              uSetSelectorOpen,\n              uSetData,\n            }}\n            css={styles.selector}\n          />\n        </div>\n\n        <div css={styles.relations}>\n          <Relations />\n        </div>\n\n        <div css={styles.control}>\n          <EditorControl />\n        </div>\n      </div>\n    </Page>\n  )\n}\nexport default MyEditor\n","/Users/drorpoliak/projects/monthly/src/editor/decorator.js",[],"/Users/drorpoliak/projects/monthly/src/editor/decoratorComponents.js",[],"/Users/drorpoliak/projects/monthly/src/editor/strategies.js",[],"/Users/drorpoliak/projects/monthly/src/editor/entities.js",[],"/Users/drorpoliak/projects/monthly/src/editor/selection.js",[],"/Users/drorpoliak/projects/monthly/src/editor/entityTypes.js",[],"/Users/drorpoliak/projects/monthly/src/editor/EntityDetails.js",[],"/Users/drorpoliak/projects/monthly/src/api/fakeEditorApi.js",[],"/Users/drorpoliak/projects/monthly/src/redux/content.js",[],"/Users/drorpoliak/projects/monthly/src/components/Home.js",[],"/Users/drorpoliak/projects/monthly/src/utility/proxies.js",[],"/Users/drorpoliak/projects/monthly/src/editor/Selector.js",[],"/Users/drorpoliak/projects/monthly/src/utility/appUtilities.js",[],"/Users/drorpoliak/projects/monthly/src/utility/debounce.js",[],"/Users/drorpoliak/projects/monthly/src/editor/EditorControl.js",["169","170","171"],"/Users/drorpoliak/projects/monthly/src/relations/Relations.js",[],"/Users/drorpoliak/projects/monthly/src/relations/flowOptions.js",[],"/Users/drorpoliak/projects/monthly/src/relations/ConnectionLine.js",[],{"ruleId":"172","replacedBy":"173"},{"ruleId":"174","replacedBy":"175"},{"ruleId":"176","severity":1,"message":"177","line":5,"column":8,"nodeType":"178","messageId":"179","endLine":5,"endColumn":14},{"ruleId":"176","severity":1,"message":"180","line":6,"column":8,"nodeType":"178","messageId":"179","endLine":6,"endColumn":15},{"ruleId":"176","severity":1,"message":"181","line":8,"column":8,"nodeType":"178","messageId":"179","endLine":8,"endColumn":19},{"ruleId":"176","severity":1,"message":"182","line":9,"column":8,"nodeType":"178","messageId":"179","endLine":9,"endColumn":18},{"ruleId":"176","severity":1,"message":"183","line":12,"column":8,"nodeType":"178","messageId":"179","endLine":12,"endColumn":16},{"ruleId":"176","severity":1,"message":"184","line":90,"column":9,"nodeType":"178","messageId":"179","endLine":90,"endColumn":25},{"ruleId":"176","severity":1,"message":"185","line":7,"column":31,"nodeType":"178","messageId":"179","endLine":7,"endColumn":40},{"ruleId":"176","severity":1,"message":"186","line":41,"column":26,"nodeType":"178","messageId":"179","endLine":41,"endColumn":43},{"ruleId":"176","severity":1,"message":"187","line":42,"column":24,"nodeType":"178","messageId":"179","endLine":42,"endColumn":39},{"ruleId":"176","severity":1,"message":"188","line":43,"column":29,"nodeType":"178","messageId":"179","endLine":43,"endColumn":49},"no-native-reassign",["189"],"no-negated-in-lhs",["190"],"no-unused-vars","'AppBar' is defined but never used.","Identifier","unusedVar","'Toolbar' is defined but never used.","'CssBaseline' is defined but never used.","'Typography' is defined but never used.","'MenuIcon' is defined but never used.","'handleDrawerOpen' is assigned a value but never used.","'RichUtils' is defined but never used.","'setEditorDisabled' is assigned a value but never used.","'setTagsDisabled' is assigned a value but never used.","'setRelationsDisabled' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]